# SPECTRUM KERNEL MANAGER
# Ramdisk file for profile based kernel management
# Implimentation inspired by Franco's fku profiles

# Initialization
on property:sys.boot_completed=1
   # Set default profile on first boot
   exec u:r:init:s0 root root -- /init.spectrum.sh
   exec u:r:su:s0 root root -- /init.spectrum.sh
   # Enable Spectrum support
   setprop spectrum.support 1
   # Add kernel name
   setprop persist.spectrum.kernel Moxie

# Balance (default profile)
on property:persist.spectrum.profile=0
    # Add configs here
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 100
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 20000
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack -1
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 960000
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/io_is_busy 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/fast_ramp_down 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/screen_off_maxfreq 960000
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/powersave_bias 1
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 1
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "80 307200:38 422400:38 480000:45 652800:45 729600:50 844800:60 960000:95 1401600:90 1478400:94"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 20000
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq 307200
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/ignore_hispeed_on_notif 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/enable_prediction 0
	
    write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 100
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 20000
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 940800
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/io_is_busy 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "85 307200:38 403200:38 480000:40 652800:45 729600:50 844800:60 940800:95 1824000:92 1996800:95 2073600:2 2150400:99"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 20000
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack -1
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/fast_ramp_down 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/screen_off_maxfreq 1324800
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/powersave_bias 1
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 1
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 0
    write /sys/devices/system/cpu/cpu2/cpufreq/scaling_min_freq 307200
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/ignore_hispeed_on_notif 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/enable_prediction 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0

# Performance (based on DrunkSauce Lite)
on property:persist.spectrum.profile=1
    # Add configs here
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 95
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 10000
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack -1
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 1228800
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/io_is_busy 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/fast_ramp_down 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/screen_off_maxfreq 1593600
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/powersave_bias 1
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 1
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "68 307200:38 422400:40 480000:40 652800:40 729600:42 844800:42 960000:70 1228800:75"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 49000
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq 307200
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/ignore_hispeed_on_notif 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/enable_prediction 0
	
	write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 95
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 10000
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 1401600
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/io_is_busy 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "69 307200:38 403200:40 480000:40 652800:42 729600:42 844800:44 940800:75 1824000:78 1996800:92 2073600:2 2150400:99"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 19000
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack -1
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/fast_ramp_down 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/screen_off_maxfreq 2150400
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/powersave_bias 1
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 1
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 0
    write /sys/devices/system/cpu/cpu2/cpufreq/scaling_min_freq 307200
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/ignore_hispeed_on_notif 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/enable_prediction 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0

# Battery
on property:persist.spectrum.profile=2
    # Add configs here
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay "19000 960000:39000 1228800:49000 1401600:49000"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 95
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 40000
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack -1
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 960000
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/io_is_busy 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/fast_ramp_down 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/screen_off_maxfreq 729600
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/powersave_bias 1
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 1
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "88 307200:40 400000:45 480000:53 552600:59 652800:65 729600:70 844800:75 960000:83 1401600:86"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 60000
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq 307200
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/ignore_hispeed_on_notif 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/enable_prediction 0
	
    write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay "29000 940800:39000 1401600:49000 1824000:49000"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 95
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 40000
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 940800
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/io_is_busy 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "88 307200:40 400000:50 480000:55 552600:59 652800:65 729600:69 806400:75 883200:60 1401600:85"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 60000
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack -1
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/fast_ramp_down 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/screen_off_maxfreq 729600
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/powersave_bias 1
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 1
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 0
    write /sys/devices/system/cpu/cpu2/cpufreq/scaling_min_freq 307200
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/ignore_hispeed_on_notif 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/enable_prediction 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0

# Gaming
on property:persist.spectrum.profile=3
    # Add configs here
	write /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_sched_load 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/use_migration_notif 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/above_hispeed_delay 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/go_hispeed_load 95
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_rate 10000
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/timer_slack -1
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/hispeed_freq 1228800
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/io_is_busy 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boost 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/fast_ramp_down 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/screen_off_maxfreq 960000
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/powersave_bias 1
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/align_windows 1
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/target_loads "75 307200:38 422400:48 480000:53 652800:56 729600:60 844800:70 960000:75 1228800:77 1401600:79 1478400:85"
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/min_sample_time 49000
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/max_freq_hysteresis 0
	write /sys/devices/system/cpu/cpu0/cpufreq/interactive/boostpulse_duration 0
    write /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq 307200
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/ignore_hispeed_on_notif 0
    write /sys/devices/system/cpu/cpu0/cpufreq/interactive/enable_prediction 0
	
	write /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor "interactive"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_sched_load 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/use_migration_notif 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/above_hispeed_delay 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/go_hispeed_load 95
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_rate 10000
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/hispeed_freq 1401600
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/io_is_busy 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/target_loads "75 307200:38 403200:45 480000:47 652800:53 729600:58 844800:63 940800:87 1555200:83 1632000:85 1824000:87 1996800:92 2073600:2 2150400:99"
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/min_sample_time 19000
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boost 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/timer_slack -1
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/fast_ramp_down 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/screen_off_maxfreq 1324800
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/powersave_bias 1
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/align_windows 1
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/max_freq_hysteresis 0
    write /sys/devices/system/cpu/cpu2/cpufreq/scaling_min_freq 307200
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/ignore_hispeed_on_notif 0
    write /sys/devices/system/cpu/cpu2/cpufreq/interactive/enable_prediction 0
	write /sys/devices/system/cpu/cpu2/cpufreq/interactive/boostpulse_duration 0
